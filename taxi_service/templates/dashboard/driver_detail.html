<!DOCTYPE html>
{% load static %}
{% load i18n %}
{% include 'dashboard/dashboard-header-sidebar.html' %}

<main class="main-container">
  <div class="driver-detail-header">
    <button class="back-page">{% trans "Назад" %}</button>
    <h1>{{ object.second_name }} {{ object.name }}</h1>
  </div>

  <div class="detail-driver-block">
    <div class="detail-driver-info" data-id="{{ object.id }}">
      <div class="driver-photo">
        <img src="https://storage.googleapis.com/jobdriver-bucket/{{ object.photo }}" alt="driver-photo">
        <span>{{ object.second_name }} {{ object.name }}</span>
      </div>
      <div class="driver-data">
        <h2 class="driver-data-item">{% trans "Особисті дані" %}</h2>
        <div class="driver-flex">
          <h3 class="driver-phone-number">{% trans "Номер телефону: " %}</h3>
          <p>{{ object.phone_number }}</p>
        </div>
        <div class="driver-flex">
          <h3 class="driver-email">{% trans "Електронна пошта: " %}</h3>
          <p>{{ object.email }}</p>
        </div>
        <div class="driver-flex">
          <h3 class="driver-schema">{% trans "Схема роботи: " %}</h3>
          <p>{{ object.schema | default_if_none:'Відсутня' }}</p>
        </div>
        <div class="driver-flex">
          <h3 class="driver-create">{% trans "Дата початку роботи в автопарку: " %}</h3>
          <p>{{ object.created_at }}</p>
        </div>
      </div>
      <div class="driver-vehicle">
        <h2 class="driver-vehicle-item">{% trans "Поточне авто" %}</h2>
        <div class="driver-vehicle-info driver-flex">
          <img src="{% static 'app/images/index-one-block-2.webp' %}" alt="car">
          <h3 class="driver-car">{{ vehicle.number }}</h3>
          <h3 class="driver-car-name">{{ vehicle.name }}</h3>
        </div>
      </div>

      <div class="cash-control">
        <h2 class="cash-control-item">{% trans "Контроль готівки" %}</h2>
        <div class="cash-control-info">
          <div class="switch-control">
            <label class="switch">
              <span class="switch-text-left">ON</span>
              <input type="checkbox" id="switch-cash">
              <span class="slider round"></span>
              <span class="switch-text-right">OFF</span>
            </label>
          </div>

          <div class="status-cash">
            {% trans "Статус:" %} <span class="circle"></span>
          </div>

          <div class="cash-control-auto">
            <label class="switch-auto">
              <input type="checkbox">
              <span class="slider-auto round"></span>
              <span class="switch-text-right">AUTO</span>
            </label>
          </div>

          <div class="percent-control-cash">
            <label for="cash-percent"> % відключення</label>
            <input type="text" id="cash-percent" name="cash-percent">
            <span class="edit-icon">&#9998;</span>
            <span class="cansel-icon">&times;</span>
            <button class="confirm-button">Підтвердити</button>
          </div>

        </div>
      </div>
    </div>

    {#    <div class="graphic-cash">#}
    {#      <h2 class="graphic-cash-title">{% trans "Загальна сума" %} <span>{% trans "₴000.00" %}</span></h2>#}
    {#      <div id="graphic-cash" style="width: 100%; height: 600px;"></div>#}
    {##}
    {#      <div class="cash-info">#}
    {#        <div class="cash-info-item">#}
    {#          <div class="cash-info-circle" style="background-color: #EC6323;"></div>#}
    {#          <div class="cash-info-text">{% trans "Готівка" %}#}
    {#            <span class="cash-amount">₴000.00#}
    {#              <span class="cash-percent">00.00%</span>#}
    {#            </span>#}
    {#          </div>#}
    {#        </div>#}
    {#        <div class="cash-info-item">#}
    {#          <div class="cash-info-circle" style="background-color: #A1E8B9;"></div>#}
    {#          <div class="cash-info-text">{% trans "Безготівка" %}#}
    {#            <span class="cash-amount">₴000.00#}
    {#              <span class="cash-percent">00.00%</span>#}
    {#            </span>#}
    {#          </div>#}
    {#        </div>#}
    {#      </div>#}
    {##}
    {#      <div class="cash-actions">#}
    {#        <div class="cash-action-item">#}
    {#          <div class="cash-action-line" style="background: #EB5F5F;"></div>#}
    {#          <div class="cash-action-text">{% trans "Штраф" %}#}
    {#            <span class="cash-actions-sum" style="color: #EB5F5F;">-₴</span>#}
    {#          </div>#}
    {#        </div>#}
    {#        <div class="cash-action-item">#}
    {#          <div class="cash-action-line" style="background: #18a64d;"></div>#}
    {#          <div class="cash-action-text">{% trans "Бонус" %}#}
    {#            <span class="cash-actions-sum" style="color: #18a64d;">-₴</span>#}
    {#          </div>#}
    {#        </div>#}
    {#      </div>#}
    {#    </div>#}

    {#    <div class="earnings-statistics">#}
    {#      <h2 class="earnings-statistics-title">{% trans "Статистика заробітку в автопарку" %}</h2>#}
    {#      <div class="earnings-statistics-period">#}
    {#        <div class="common-period" id="period-window">#}
    {#          <div class="custom-select" id="period-common">#}
    {#            <span class="earnings-selected-option">{% trans 'Вчора' %}</span>#}
    {#            <i class="fas fa-angle-down"></i>#}
    {#            <ul class="options">#}
    {#              <li data-value="yesterday">{% trans 'Вчора' %}</li>#}
    {#              <li data-value="current_week">{% trans 'Поточний тиждень' %}</li>#}
    {#              <li data-value="last_week">{% trans 'Минулий тиждень' %}</li>#}
    {#              <li data-value="current_month">{% trans 'Поточний місяць' %}</li>#}
    {#              <li data-value="last_month">{% trans 'Минулий місяць' %}</li>#}
    {#              <li data-value="current_quarter">{% trans 'Поточний квартал' %}</li>#}
    {#              <li data-value="last_quarter">{% trans 'Минулий квартал' %}</li>#}
    {#              <li data-value="custom">{% trans 'Вибрати період >' %}</li>#}
    {#            </ul>#}
    {#          </div>#}
    {#          <span class="weekly-income-dates"></span>#}
    {#        </div>#}
    {#        <div id="datePicker" style="display: none;">#}
    {#          <label for="start_report">{% trans 'Початкова дата:' %}</label>#}
    {#          <input type="date" id="start_report" name="start_date">#}
    {#          <label for="end_report">{% trans 'Кінцева дата:' %}</label>#}
    {#          <input type="date" id="end_report" name="end_date">#}
    {#          <input class="apply-filter-button" type="button" onclick="applyDateRange()"#}
    {#                 value="{% trans 'Фільтрувати' %}">#}
    {#          <div id="error_message" style="display: none; color: red;"></div>#}
    {#        </div>#}
    {#      </div>#}
    {#      <div class="clear-btn-container">#}
    {#        <button class="clear-btn" onclick="clearDateRange()">{% trans "Очистити" %}</button>#}
    {#      </div>#}
    {#      <div class="earnings-statistics-info">#}
    {#        <div class="earnings-statistics-item">#}
    {#          <h3 class="earnings-statistics-title">{% trans "Заробіток  за період " %}#}
    {#            <span class="earnings-statistics-amount">₴000.00</span>#}
    {#          </h3>#}
    {#        </div>#}
    {#        <div class="earnings-statistics-cards">#}
    {#          <div class="earnings-statistics-card">#}
    {#            <h3 class="earnings-statistics-card-title">{% trans "Пробіг по замовленням" %}</h3>#}
    {#            <span class="earnings-statistics-card-amount">{% trans "000.00 км" %}</span>#}
    {#          </div>#}
    {##}
    {#          <div class="earnings-statistics-card">#}
    {#            <h3 class="earnings-statistics-card-title">{% trans "Виконано поїздок" %}</h3>#}
    {#            <span class="earnings-statistics-card-amount">{% trans "000" %}</span>#}
    {#          </div>#}
    {#        </div>#}
    {#      </div>#}
    {#    </div>#}

    <div class="driver-statistics">
      <div class="driver-radio-buttons">
        <input type="radio" id="driver-bonus-radio" name="driver-statistics" value="driver-bonus">
        <label for="driver-bonus-radio">Бонуси</label>

        <input type="radio" id="driver-penalty-radio" name="driver-statistics" value="driver-penalty">
        <label for="driver-penalty-radio">Штрафи</label>
      </div>
      <div class="driver-bonus-penalty-list">
        <div class="driver-bonus-item bonus">
          <div class="bonus-header">
            <h3 class="bonus-title">Бонус</h3>
            <button class="add-button-bonus">Додати</button>
          </div>
          <div class="driver-bonus-penalty-title">
            <h3 class="bonus-category">Категорія</h3>
            <h3 class="bonus-amount">Сума</h3>
            <h3 class="bonus-car">Авто</h3>
            {#            <h3 class="bonus-description">Опис</h3>#}
          </div>
          {% for bonus in driver_bonus %}
            <div class="driver-bonus-penalty-info">
              <div class="bonus-category">
                <span>{{ bonus.category }}</span>
              </div>
              <div class="bonus-amount">
                <span>{{ bonus.amount }}</span>
              </div>
              <div class="bonus-car">
                <span>{{ bonus.vehicle }}</span>
              </div>
              <div class="btns">
                <button class="edit-bonus-btn" data-id="{{ bonus.id }}">
                  <svg width="30" height="27" viewBox="0 0 31 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_1230_9247)">
                      <path
                          d="M30.2977 27.2853H0.576953C0.352524 27.2853 0.160156 27.0938 0.160156 26.8704C0.160156 26.647 0.352524 26.4556 0.576953 26.4556H30.2977C30.5222 26.4556 30.7145 26.647 30.7145 26.8704C30.7145 27.0938 30.5382 27.2853 30.2977 27.2853Z"
                          fill="#53785E"></path>
                      <path
                          d="M30.2979 27.4447H0.577103C0.25649 27.4447 0 27.1735 0 26.8703C0 26.5512 0.25649 26.2959 0.577103 26.2959H30.2979C30.6185 26.2959 30.875 26.5512 30.875 26.8703C30.875 27.1735 30.6185 27.4447 30.2979 27.4447ZM0.577103 26.5991C0.432827 26.5991 0.320613 26.7108 0.320613 26.8544C0.320613 27.0139 0.432827 27.1256 0.577103 27.1256H30.2979C30.4422 27.1256 30.5544 27.0139 30.5544 26.8703C30.5544 26.7267 30.4422 26.615 30.2979 26.615H0.577103V26.5991Z"
                          fill="#53785E"></path>
                      <path
                          d="M8.35224 24.0462C8.27208 24.0462 8.19193 24.0303 8.12781 23.9824C8.01559 23.9026 7.95147 23.7909 7.93544 23.6633L7.63086 18.8286C7.63086 18.7328 7.64689 18.6531 7.69498 18.5733L19.5576 0.367399C19.6859 0.175926 19.9424 0.112102 20.1348 0.23975L24.976 3.36714C25.0722 3.43096 25.1363 3.5267 25.1523 3.63839C25.1684 3.75009 25.1523 3.86178 25.0882 3.95752L13.2256 22.1634C13.1775 22.2432 13.1133 22.291 13.0172 22.323L8.49651 24.0143C8.44842 24.0303 8.40033 24.0462 8.35224 24.0462ZM8.48048 18.8924L8.73697 23.025L12.6164 21.573L24.1745 3.82987L20.0386 1.1652L8.48048 18.8924Z"
                          fill="#53785E"></path>
                      <path
                          d="M8.35239 24.1896C8.24017 24.1896 8.12796 24.1577 8.03178 24.0938C7.87147 23.9981 7.77529 23.8226 7.77529 23.6471L7.4707 18.8283C7.4707 18.7007 7.50276 18.589 7.56689 18.4773L19.4296 0.271432C19.5097 0.143784 19.638 0.0480472 19.7983 0.0161351C19.9586 -0.015777 20.1028 0.0161351 20.2311 0.0959154L25.0723 3.2233C25.2006 3.30309 25.2968 3.43073 25.3288 3.59029C25.3609 3.7339 25.3288 3.89346 25.2487 4.02111L13.386 22.227C13.3219 22.3227 13.2257 22.4025 13.1135 22.4504L8.56079 24.1577C8.48063 24.1896 8.41651 24.1896 8.35239 24.1896ZM19.9105 0.3193C19.8944 0.3193 19.8784 0.3193 19.8624 0.3193C19.7983 0.335256 19.7341 0.367169 19.7021 0.430993L7.83941 18.6369C7.80735 18.6847 7.79132 18.7326 7.79132 18.7964L8.0959 23.6311C8.0959 23.7109 8.14399 23.7907 8.20811 23.8385C8.27223 23.8864 8.36842 23.8864 8.44857 23.8705L13.0013 22.1632C13.0494 22.1472 13.0975 22.1153 13.1295 22.0674L24.9922 3.86155C25.0242 3.79772 25.0403 3.7339 25.0242 3.67007C25.0082 3.60625 24.9762 3.54243 24.912 3.51051L20.0708 0.383125C20.0067 0.335256 19.9586 0.3193 19.9105 0.3193ZM8.73712 23.1843C8.70506 23.1843 8.673 23.1684 8.65697 23.1524C8.60888 23.1205 8.59285 23.0727 8.59285 23.0248L8.33636 18.8922C8.33636 18.8603 8.33636 18.8283 8.36842 18.7964L19.9265 1.05328C19.9746 0.973499 20.0708 0.957543 20.1509 1.00541L24.2868 3.67007C24.3189 3.68603 24.351 3.7339 24.351 3.76581C24.367 3.81368 24.351 3.84559 24.3349 3.8775L12.7448 21.6526C12.7288 21.6845 12.6967 21.7004 12.6646 21.7164L8.78522 23.1684C8.76918 23.1844 8.75315 23.1843 8.73712 23.1843ZM8.64094 18.94L8.8814 22.8014L12.5204 21.4292L23.9662 3.86155L20.0868 1.35645L8.64094 18.94ZM12.9051 22.0674C12.8249 22.0674 12.7448 22.0036 12.7448 21.9079C12.7448 21.8281 12.8089 21.7483 12.9051 21.7483C12.9852 21.7483 13.0654 21.8121 13.0654 21.9079C13.0494 22.0036 12.9852 22.0674 12.9051 22.0674Z"
                          fill="#53785E"></path>
                      <rect x="19.7715" y="1.03516" width="5.83401" height="21.3093"
                            transform="rotate(33.4194 19.7715 1.03516)" fill="#53785E"></rect>
                      <path d="M8.71404 22.8364L8.44971 18.5664L12.9132 22.0179L8.71404 22.8364Z" fill="#53785E"></path>
                    </g>
                    <defs>
                      <clipPath id="clip0_1230_9247">
                        <rect width="30.875" height="27.4444" fill="white"></rect>
                      </clipPath>
                    </defs>
                  </svg>
                </button>
                <button class="delete-bonus-penalty-btn fa fa-times" data-id="{{ bonus.id }}"></button>
              </div>
            </div>
          {% endfor %}
        </div>
        <div class="driver-penalty-item penalty">
          <div class="penalty-header">
            <h3 class="penalty-title">Штраф</h3>
            <button class="add-button-penalty">Додати</button>
          </div>
          <div class="driver-bonus-penalty-title">
            <h3 class="bonus-category">Категорія</h3>
            <h3 class="bonus-amount">Сума</h3>
            <h3 class="bonus-car">Авто</h3>
          </div>
          {% for penalty in driver_penalty %}
            <div class="driver-bonus-penalty-info" data-id="{{ penalty.id }}">
              <div class="penalty-category">
                <span>{{ penalty.category }}</span>
              </div>
              <div class="penalty-amount">
                <span>{{ penalty.amount }}</span>
              </div>
              <div class="penalty-car">
                <span>{{ penalty.vehicle }}</span>
              </div>
              <div class="btns">
                <div class="debt-repayment">
                  <button class="debt-repayment-btn">Погасити</button>
                  <div class="debt-repayment-input-container">
                    <input type="text" class="debt-repayment-input" value="{{ penalty.amount }}">
                    <i class="fa fa-check check-icon" aria-hidden="true"></i>
                  </div>
                </div>
                {% comment %}{% endcomment %}
                <button class="edit-penalty-btn" data-id="{{ penalty.id }}">
                  <svg width="30" height="27" viewBox="0 0 31 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_1230_9247)">
                      <path
                          d="M30.2977 27.2853H0.576953C0.352524 27.2853 0.160156 27.0938 0.160156 26.8704C0.160156 26.647 0.352524 26.4556 0.576953 26.4556H30.2977C30.5222 26.4556 30.7145 26.647 30.7145 26.8704C30.7145 27.0938 30.5382 27.2853 30.2977 27.2853Z"
                          fill="#53785E"></path>
                      <path
                          d="M30.2979 27.4447H0.577103C0.25649 27.4447 0 27.1735 0 26.8703C0 26.5512 0.25649 26.2959 0.577103 26.2959H30.2979C30.6185 26.2959 30.875 26.5512 30.875 26.8703C30.875 27.1735 30.6185 27.4447 30.2979 27.4447ZM0.577103 26.5991C0.432827 26.5991 0.320613 26.7108 0.320613 26.8544C0.320613 27.0139 0.432827 27.1256 0.577103 27.1256H30.2979C30.4422 27.1256 30.5544 27.0139 30.5544 26.8703C30.5544 26.7267 30.4422 26.615 30.2979 26.615H0.577103V26.5991Z"
                          fill="#53785E"></path>
                      <path
                          d="M8.35224 24.0462C8.27208 24.0462 8.19193 24.0303 8.12781 23.9824C8.01559 23.9026 7.95147 23.7909 7.93544 23.6633L7.63086 18.8286C7.63086 18.7328 7.64689 18.6531 7.69498 18.5733L19.5576 0.367399C19.6859 0.175926 19.9424 0.112102 20.1348 0.23975L24.976 3.36714C25.0722 3.43096 25.1363 3.5267 25.1523 3.63839C25.1684 3.75009 25.1523 3.86178 25.0882 3.95752L13.2256 22.1634C13.1775 22.2432 13.1133 22.291 13.0172 22.323L8.49651 24.0143C8.44842 24.0303 8.40033 24.0462 8.35224 24.0462ZM8.48048 18.8924L8.73697 23.025L12.6164 21.573L24.1745 3.82987L20.0386 1.1652L8.48048 18.8924Z"
                          fill="#53785E"></path>
                      <path
                          d="M8.35239 24.1896C8.24017 24.1896 8.12796 24.1577 8.03178 24.0938C7.87147 23.9981 7.77529 23.8226 7.77529 23.6471L7.4707 18.8283C7.4707 18.7007 7.50276 18.589 7.56689 18.4773L19.4296 0.271432C19.5097 0.143784 19.638 0.0480472 19.7983 0.0161351C19.9586 -0.015777 20.1028 0.0161351 20.2311 0.0959154L25.0723 3.2233C25.2006 3.30309 25.2968 3.43073 25.3288 3.59029C25.3609 3.7339 25.3288 3.89346 25.2487 4.02111L13.386 22.227C13.3219 22.3227 13.2257 22.4025 13.1135 22.4504L8.56079 24.1577C8.48063 24.1896 8.41651 24.1896 8.35239 24.1896ZM19.9105 0.3193C19.8944 0.3193 19.8784 0.3193 19.8624 0.3193C19.7983 0.335256 19.7341 0.367169 19.7021 0.430993L7.83941 18.6369C7.80735 18.6847 7.79132 18.7326 7.79132 18.7964L8.0959 23.6311C8.0959 23.7109 8.14399 23.7907 8.20811 23.8385C8.27223 23.8864 8.36842 23.8864 8.44857 23.8705L13.0013 22.1632C13.0494 22.1472 13.0975 22.1153 13.1295 22.0674L24.9922 3.86155C25.0242 3.79772 25.0403 3.7339 25.0242 3.67007C25.0082 3.60625 24.9762 3.54243 24.912 3.51051L20.0708 0.383125C20.0067 0.335256 19.9586 0.3193 19.9105 0.3193ZM8.73712 23.1843C8.70506 23.1843 8.673 23.1684 8.65697 23.1524C8.60888 23.1205 8.59285 23.0727 8.59285 23.0248L8.33636 18.8922C8.33636 18.8603 8.33636 18.8283 8.36842 18.7964L19.9265 1.05328C19.9746 0.973499 20.0708 0.957543 20.1509 1.00541L24.2868 3.67007C24.3189 3.68603 24.351 3.7339 24.351 3.76581C24.367 3.81368 24.351 3.84559 24.3349 3.8775L12.7448 21.6526C12.7288 21.6845 12.6967 21.7004 12.6646 21.7164L8.78522 23.1684C8.76918 23.1844 8.75315 23.1843 8.73712 23.1843ZM8.64094 18.94L8.8814 22.8014L12.5204 21.4292L23.9662 3.86155L20.0868 1.35645L8.64094 18.94ZM12.9051 22.0674C12.8249 22.0674 12.7448 22.0036 12.7448 21.9079C12.7448 21.8281 12.8089 21.7483 12.9051 21.7483C12.9852 21.7483 13.0654 21.8121 13.0654 21.9079C13.0494 22.0036 12.9852 22.0674 12.9051 22.0674Z"
                          fill="#53785E"></path>
                      <rect x="19.7715" y="1.03516" width="5.83401" height="21.3093"
                            transform="rotate(33.4194 19.7715 1.03516)" fill="#53785E"></rect>
                      <path d="M8.71404 22.8364L8.44971 18.5664L12.9132 22.0179L8.71404 22.8364Z" fill="#53785E"></path>
                    </g>
                    <defs>
                      <clipPath id="clip0_1230_9247">
                        <rect width="30.875" height="27.4444" fill="white"></rect>
                      </clipPath>
                    </defs>
                  </svg>
                </button>
                <button class="delete-bonus-penalty-btn fa fa-times fa-fw" data-id="{{ penalty.id }}"
                        aria-hidden="true"></button>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>

  <div id="formContainer"></div>

  <div id="errorModal" class="error-modal">
    <div class="modal-content">
      <p id="errorText"></p>
    </div>
  </div>

  {% include 'dashboard/_confirmation-update-database.html' %}

  <div class="confirmation-cash-control" style="display: none;">
    <div class="container">
      <div class="confirmation-box">
        <h2>{% trans "Ви точно бажаєте вимкнути готівку та автоматичне слідкування за нею?" %}</h2>
        <div class="btn-box">
          <button class="confirmation-btn-on" id="confirmation-btn-on">{% trans "Так" %}</button>
          <button class="confirmation-btn-off" id="confirmation-btn-off">{% trans "Ні" %}</button>
        </div>
      </div>
    </div>
  </div>

  <div id="loader-confirmation-cash" class="modal">
    <div class="modal-content">
      <div class="loading-content">
        <p id="loadingMessage">{% trans 'Зачекайте поки вимкнеться готівка' %}</p>
        <div id="loader" class="loader"></div>
        <div id="checkmark" class="checkmark"></div>
      </div>
    </div>
  </div>

  <div class="confirmation-debt-repayment">
    <div class="container">
      <div class="confirmation-box">
        <h2>{% trans "Ви впевнені, що хочете закрити штраф?" %}</h2>
        <div class="btn-box">
          <button class="debt-repayment-on" id="debt-repayment-on">{% trans "Так" %}</button>
          <button class="debt-repayment-off" id="debt-repayment-off">{% trans "Ні" %}</button>
        </div>
      </div>
    </div>
  </div>
</main>

<script src="{% static 'dashboard/js/scripts-driver.js' %}?v={{ build_id }}" defer></script>
</body>
</html>